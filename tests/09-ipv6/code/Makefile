CONTIKI_PRJECT = node
all: $(CONTIKI_PROJECT)

MODULES += os/services/shell
CFLAGS += -DLOG_CONF_LEVEL_RPL=LOG_LEVEL_INFO
CFLAGS += -DLOG_CONF_LEVEL_TCPIP=LOG_LEVEL_INFO
CFLAGS += -DLOG_CONF_LEVEL_IPV6=LOG_LEVEL_DBG
CFLAGS += -DLOG_CONF_LEVEL_MAC=LOG_LEVEL_INFO

ifeq ($(WITH_ULA),1)
  CFLAGS += -DWITH_ULA=1
endif

ifeq ($(WITHOUT_RPL),1)
  MAKE_ROUTING = MAKE_ROUTING_NULLROUTING
else
  CFLAGS += -DRPL_CONF_DAO_DELAY=1
endif

ifeq ($WITH_CSMA),1)
  MAKE_MAC = MAKE_MAC_CSMA
endif

ifeq ($(WITH_TSCH),1)
  MAKE_MAC = MAKE_MAC_TSCH
  CFLAGS += -DWITH_TSCH=1
  CFLAGS += -DTSCH_CONF_AUTOSTART=1
  CFLAGS += -DTSCH_CONF_DEFAULT_HOPPING_SEQUENCE=TSCH_HOPPING_SEQUENCE_1_1
endif

ifeq ($(WITH_NBR_MULTI_IPV6_ADDRS),1)
  CFLAGS += -DUIP_DS6_NBR_CONF_MULTI_IPV6_ADDRS=1
endif

PLATFORM_ONLY = cooja
TARGET = cooja

CONTIKI = ../../../
include $(CONTIKI)/Makefile.include
